@if (isVisible() && selectedTeacher()) {
  <section class="popup-container" (click)="onBackdropClick($event)">
    <dialog class="teacher-info-popup" open>
      <header>
        <h2>Teacher Info</h2>
        <span class="cross" (click)="closeModal()">x</span>
      </header>

      <section class="dialog-main">
        <div class="teacher-info-layout">
          @if (selectedTeacher()!.picture_large) {
            <img
              class="teacher-photo-info-popup"
              [src]="selectedTeacher()!.picture_large"
              alt="Teacher's photo"
            />
          } @else {
            <div class="teacher-photo-info-popup teacher-initials-avatar" [style.background-color]="selectedTeacher()!.bg_color || ''">
              {{ getInitials() }}
            </div>
          }

          <article class="teacher-info-content">
          <img
            [src]="selectedTeacher()!.favorite ? 'assets/images/star.png' : 'assets/images/empty-star.png'"
            alt="star icon"
            class="star"
            (click)="toggleFavorite()"
          />
          <h1>{{ selectedTeacher()!.full_name }}</h1>
          <h3>{{ selectedTeacher()!.course }}</h3>
          <address>
            <p>{{ selectedTeacher()!.city }}, {{ selectedTeacher()!.country }}</p>
            <p>{{ selectedTeacher()!.age }}, {{ selectedTeacher()!.gender }}</p>
            <p class="email">{{ selectedTeacher()!.email }}</p>
            <p>{{ selectedTeacher()!.phone }}</p>
          </address>
          </article>
        </div>

        <article class="description">
          <p>{{ selectedTeacher()!.note || 'No additional information available.' }}</p>
        </article>

        <a href="#" class="toggle-map" (click)="$event.preventDefault()">toggle map</a>
      </section>
    </dialog>
  </section>
}
